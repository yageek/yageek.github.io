<!doctype html><html lang=en><head><title>Compile OpenCV 2.4.1 on Mac Os X Lion - yageek</title><meta content="text/html; charset=utf-8"http-equiv=content-type><meta content="width=device-width,initial-scale=1.0,maximum-scale=1"name=viewport><meta content="The personal website of Yannick Heinrich Compile OpenCV 2.4.1 on Mac Os X Lion "name=description><meta content="Yannick Heinrich - Compile OpenCV 2.4.1 on Mac Os X Lion"property=og:title><meta content=website property=og:type><meta content=https://yageek.net/compile-opencv-241-on-mac-os-x-lion/ property=og:url><meta content="The personal website of Yannick Heinrich"property=og:description><link as=font crossorigin=anonymous href=https://yageek.net/assets/fonts/FiraCode-Regular.woff2 rel=preload type=font/woff2><link as=font crossorigin=anonymous href=https://yageek.net/assets/fonts/FiraCode-Bold.woff2 rel=preload type=font/woff2><link href="https://yageek.net/style.css?h=2c8d17b7aa9535c98dc3b725d1bc9c6b2e12b81df07df95e5d9af6dcb88e7c78"rel=stylesheet><link href="https://yageek.net/color/green.css?h=5a347e8c6d0c143f1dc7bfd18df37abdfa7c3c45951262b9f8b4bcc829a2ab94"rel=stylesheet><body><div class="container full"><header class=header><div class=header__inner><div class=header__logo><a href=/> <div class=logo>yageek</div> </a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href="
    
        https://yageek.net/about
    
">about</a><li><a href="
    
        https://yageek.net/projects
    
">projects</a><li><a href="
    
        https://speakerdeck.com/yageek
    
">talks</a></li><ul class=menu__sub-inner><li class=menu__sub-inner-more-trigger>show more ▾</li><ul class="menu__sub-inner-more hidden"><li><a href="
    
        https://github.com/yageek
    
">github</a><li><a href="
    
        https://www.linkedin.com/in/yageek/
    
">linkedin</a><li><a href="
    
        https://twitter.com/yageek
    
">twitter</a></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href="
    
        https://yageek.net/about
    
">about</a><li><a href="
    
        https://yageek.net/projects
    
">projects</a><li><a href="
    
        https://speakerdeck.com/yageek
    
">talks</a><li><a href="
    
        https://github.com/yageek
    
">github</a><li><a href="
    
        https://www.linkedin.com/in/yageek/
    
">linkedin</a><li><a href="
    
        https://twitter.com/yageek
    
">twitter</a></ul></nav></header><div class=content><article class=post><header><h1 class=post-title><a href=https://yageek.net/compile-opencv-241-on-mac-os-x-lion/>Compile OpenCV 2.4.1 on Mac Os X Lion</a></h1><div class=post-meta><span class=post-date>2012.06.20 </span><span class=post-author></span></div></header><div class=post><div style="text-align: left;"dir=ltr trbidi=on><br><div style="font-family: 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 18px; text-align: -webkit-auto;">After looking an episode of TBBT concerning a OCR iPhone app, I was considering to develop a real one or at least a prototype. From my old memories, I thought directly to the OpenCV library and I was glad to see that an android port was in high development stage. By the way, before trying to work on an Android OCR app, I wanted to start softly with a basic program on my Mac. On the main website I saw the simple way to get it worked was using fink, macports or homebrew :( Those tools are very good but I wanted a fresh compilation. I simply download the last stable version which uses the CMake system to compile all the framework. Really simple, but I experienced some linking errors that are due to, I suppose, to the fact that I don't have ffmpeg installed on my system. It seemed to miss a MP3 lame library and a faac library. </div><div style="line-height: 18px; text-align: -webkit-auto;"><div style="font-family: 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; font-size: 13px;">Fisrt start by downloading and compile the lame library (3.99.5 worked fine) from <a style="color: #007bff;"data-mce-href=http://lame.sourceforge.net/ href=http://lame.sourceforge.net/ target=_blank>http://lame.sourceforge.net/</a>:</div><div style="font-family: 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; font-size: 13px;"><br></div><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">tar xzvf lame-3.99.5.tar.gz</span><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">cd lame-3.99.5</span><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">./configure</span><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">make</span><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">sudo make install</span><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;"><br></span><br></div><div style="line-height: 18px; text-align: -webkit-auto;"><div style="font-family: 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; font-size: 13px;">Same thing with the faac library (1.28 worked fine) at <a style="color: #007bff;"data-mce-href=http://www.audiocoding.com/downloads.html href=http://www.audiocoding.com/downloads.html>http://www.audiocoding.com/downloads.html</a>:</div><div style="font-family: 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; font-size: 13px;"><br></div><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">tar xjvf faac-1.28.tar.bz2</span><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">cd faac-1.28</span><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">./configure</span><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">make</span><br><span style="font-family: 'Courier New', Courier, monospace; font-size: x-small;">sudo make install</span><br><div style="font-family: 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; font-size: 13px;"><br></div></div><div style="font-size: 13px; line-height: 18px; text-align: -webkit-auto;"><div style="font-family: 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif;">The error came from the highgui module. To fixed it, I edited the modules/highgui/CMakeLists.txt to link to the previous compiled library.  You can use <a data-mce-href="https://docs.google.com/open?id=0B6tbPeG2hrjQZXhlLUxxUXhLNEU" href="https://docs.google.com/open?id=0B6tbPeG2hrjQZXhlLUxxUXhLNEU" style="color: #007bff;"target=_blank>this patch</a> file (patch -p0 < opencv_lion.patch) or edit the modules/highgui/CMakeLists.txt to add those lines :</div><br><div style="font-family: 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif;"><br></div><span style="font-family: 'Courier New', Courier, monospace;">if(APPLE)</span><br><span style="font-family: 'Courier New', Courier, monospace;"> list(APPEND HIGHGUI_LIBRARIES ${BZIP2_LIBRARIES} -lmp3lame  -lbz2 -lfaac)</span><br><span style="font-family: 'Courier New', Courier, monospace;">endif(APPLE)</span><br></div></div></div></article></div><div class=pagination><div class=pagination__buttons></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2022 <a href=https://github.com/ejmg/zerm>zerm</a> :: Powered by <a href=https://www.getzola.org/>Zola</a></span><span>:: Theme made by <a href=https://github.com/ejmg>ejmg</a></span></div><script src=https://yageek.net/assets/js/main.js></script></div></footer></div>